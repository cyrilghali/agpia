<!DOCTYPE html>

<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Agpia - Le Livre des Heures Copte</title>
<link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;600&amp;family=EB+Garamond:wght@400;700&amp;display=swap" rel="stylesheet"/>
<link href="../agpeya-style.css" rel="stylesheet"/>
<style>
        .section-dropdown { display: none !important; }
        :root {
            --bg: #fdfdf9;
            --bg-card: #f8f7f2;
            --text: #2a2416;
            --text-light: #5a513d;
            --text-muted: #8a7f6a;
            --gold: #c9a961;
            --burgundy: #7a2828;
            --border: #d4cec0;
        }
        [data-theme="dark"] {
            --bg: #1a1612;
            --bg-card: #231f18;
            --text: #e8e4d9;
            --text-light: #c4bead;
            --text-muted: #9a8f7a;
            --border: #3d3830;
            --burgundy: #d87070;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Crimson Pro', serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.7;
            transition: all 0.3s;
        }
        header {
            position: relative;
            
            background: var(--bg);
            border-bottom: 1px solid var(--border);
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        .container { max-width: 1400px; margin: 0 auto; padding: 0 1.5rem; }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: var(--text);
        }
        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--burgundy);
        }
        .logo-title {
            font-family: 'EB Garamond', serif;
            font-size: 1.5rem;
            font-weight: 700;
        }
        .header-btns { display: flex; gap: 0.5rem; }
        .btn {
            width: 40px;
            height: 40px;
            border: 1px solid var(--border);
            background: var(--bg-card);
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        .btn:hover { transform: scale(1.05); }
        .btn-primary {
            background: var(--burgundy);
            color: var(--bg);
            border-color: var(--burgundy);
        }
        .hero {
            text-align: center;
            padding: 4rem 0 3rem;
        }
        @font-face {
            font-family: 'Avva Shenouda';
            src: url('Avva_Shenouda.ttf') format('truetype');
        }
        .hero-title-en {
            font-family: 'EB Garamond', serif;
            font-size: clamp(2.5rem, 8vw, 4.5rem);
            font-weight: 700;
            color: var(--burgundy);
            margin-bottom: 0.25rem;
        }
        .hero-title-coptic {
            font-family: 'Avva Shenouda', serif;
            font-size: clamp(3rem, 9vw, 5.25rem);
            color: var(--burgundy);
            margin-bottom: 1.5rem;
        }
        .hero-cross {
            width: 120px;
            height: auto;
            margin-bottom: 2rem;
            opacity: 0.9;
            filter: brightness(0) saturate(100%) invert(22%) sepia(18%) saturate(1844%) hue-rotate(314deg) brightness(92%) contrast(90%);
        }
        [data-theme="dark"] .hero-cross {
            filter: brightness(0) saturate(100%) invert(56%) sepia(30%) saturate(1026%) hue-rotate(312deg) brightness(93%) contrast(89%);
        }
        .hero h1 {
            font-family: 'EB Garamond', serif;
            font-size: clamp(2.5rem, 8vw, 4.5rem);
            font-weight: 700;
            color: var(--burgundy);
            margin-bottom: 1rem;
        }
        .hero p {
            font-size: 1.25rem;
            color: var(--text-light);
            margin-bottom: 2rem;
        }
        .cta {
            display: inline-block;
            padding: 1rem 2rem;
            background: var(--burgundy);
            color: var(--bg);
            text-decoration: none;
            border-radius: 12px;
            font-size: 1.25rem;
            font-weight: 600;
            transition: all 0.2s;
        }
        .cta:hover { transform: translateY(-2px); }
        .current-time {
            font-size: 1.25rem;
            color: var(--text-light);
            margin-bottom: 1.5rem;
        }
        .hours {
            max-width: 700px;
            margin: 3rem auto;
            padding: 0;
        }
        .hour-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem 1.5rem;
            margin-bottom: 0.75rem;
            text-decoration: none;
            color: var(--text);
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
        .hour-card:hover {
            transform: translateX(8px);
            border-color: var(--burgundy);
            background: var(--bg);
        }
        .hour-num {
            font-family: 'EB Garamond', serif;
            font-size: 1.5rem;
            color: var(--gold);
            font-weight: 700;
            min-width: 30px;
            text-align: center;
        }
        .hour-info {
            flex: 1;
        }
        .hour-name {
            font-family: 'EB Garamond', serif;
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        .hour-time {
            color: var(--text-muted);
            font-size: 0.85rem;
        }
        .hour-arrow {
            color: var(--text-muted);
            font-size: 1.25rem;
            transition: all 0.2s;
        }
        .hour-card:hover .hour-arrow {
            color: var(--burgundy);
            transform: translateX(4px);
        }
        .nav-overlay {
            position: fixed;
            inset: 0;
            background: var(--bg);
            z-index: 200;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
            overflow-y: auto;
        }
        .nav-overlay.active { opacity: 1; visibility: visible; }
        .nav-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 40px;
            height: 40px;
            border: 1px solid var(--border);
            background: var(--bg-card);
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.5rem;
        }
        .nav-list {
            list-style: none;
            max-width: 600px;
            margin: 5rem auto 2rem;
            padding: 0 2rem;
        }
        .nav-item {
            border-bottom: 1px solid var(--border);
        }
        .nav-link {
            display: flex;
            justify-content: space-between;
            padding: 1.5rem 0;
            text-decoration: none;
            color: var(--text);
            transition: all 0.2s;
        }
        .nav-link:hover { padding-left: 1rem; color: var(--burgundy); }
        footer {
            text-align: center;
            padding: 3rem 0;
            color: var(--text-muted);
        }
    </style>
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#fdfdf9">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="apple-touch-icon" href="/icons/icon-192.png">
</head>
<body>
<div class="sticky-subheader">
<div class="dropdown-wrapper">
<select class="hour-dropdown" id="hourDropdown">
<option data-long="Accueil" data-short="Accueil" value="index.html">Accueil</option>
<option data-long="1ère Heure - Prime" data-short="1ère Heure" value="prime.html">1ère Heure - Prime</option>
<option data-long="3ème Heure - Tierce" data-short="3ème Heure" value="terce.html">3ème Heure - Tierce</option>
<option data-long="6ème Heure - Sexte" data-short="6ème Heure" value="sext.html">6ème Heure - Sexte</option>
<option data-long="9ème Heure - None" data-short="9ème Heure" value="none.html">9ème Heure - None</option>
<option data-long="11ème Heure - Vêpres" data-short="11ème Heure" value="vespers.html">11ème Heure - Vêpres</option>
<option data-long="12ème Heure - Complies" data-short="12ème Heure" value="compline.html">12ème Heure - Complies</option>
<option data-long="Minuit" data-short="Minuit" value="midnight.html">Minuit</option>
<option data-long="Prière du Voile" data-short="Voile" value="veil.html">Prière du Voile</option>
<option data-long="Prières diverses" data-short="Autres" value="other.html">Prières diverses</option>
<option data-long="À propos" data-short="À propos" value="about.html">À propos</option>
</select>
<select class="section-dropdown" id="sectionDropdown">
<option value="">Haut</option>
</select>
</div>
<button class="settings-btn" id="settingsBtn"><img alt="Settings" src="../cog_wheel.png"/></button>
<div class="settings-menu" id="settingsMenu">
<!-- Font Size Row -->
<div class="settings-row">
<button class="settings-menu-btn settings-menu-btn-small" id="fontDownBtn">A-</button>
<button class="settings-menu-btn settings-menu-btn-small" id="fontResetBtn">100%</button>
<button class="settings-menu-btn settings-menu-btn-small" id="fontUpBtn">A+</button>
</div>
<!-- Line Height Row -->
<div class="settings-row">
<button class="settings-menu-btn settings-toggle" id="lineComfyBtn" title="Interligne confortable">
<span class="line-height-icon comfy-icon">
<span class="line"></span>
<span class="line"></span>
</span>
</button>
<button class="settings-menu-btn settings-toggle active" id="lineDefaultBtn" title="Interligne standard">
<span class="line-height-icon default-icon">
<span class="line"></span>
<span class="line"></span>
</span>
</button>
<button class="settings-menu-btn settings-toggle" id="lineCondensedBtn" title="Interligne condensé">
<span class="line-height-icon condensed-icon">
<span class="line"></span>
<span class="line"></span>
</span>
</button>
</div>
<!-- Theme Row -->
<div class="settings-row">
<button class="settings-menu-btn settings-toggle" id="lightModeBtn">Clair</button>
<button class="settings-menu-btn settings-toggle active" id="darkModeBtn">Sombre</button>
</div>
<!-- Language Selector -->
<div class="settings-row lang-selector">
<!-- <a href="../en/index.html" class="settings-menu-btn settings-toggle" data-lang="en">EN</a> -->
<a class="settings-menu-btn settings-toggle" data-lang="fr" href="../fr/index.html">FR</a>
<a class="settings-menu-btn settings-toggle" data-lang="ar" href="../ar/index.html">عربي</a>
<!-- <a href="../fr-old/index.html" class="settings-menu-btn settings-toggle" data-lang="fr-old">FR cl.</a> -->
</div>
</div>
</div>
<main class="container">
<section class="hero">
<div class="hero-title-en">L'Agpia</div>
<div class="hero-title-coptic">%agpia</div>
<img alt="Coptic Cross" class="hero-cross" src="../coptic-cross.png"/>
<h1>Le Livre des Heures Copte</h1>
<p class="current-time" id="currentTime"></p>
<a class="cta" href="prime.html" id="beginPrayerBtn">Commencer la Prière →</a>
</section>
<section class="hours">
<a class="hour-card" href="prime.html"> <div class="hour-info">
<h3 class="hour-name">Prime - 1ère Heure</h3>
<div class="hour-time">6h00</div>
</div>
<div class="hour-arrow">→</div>
</a>
<a class="hour-card" href="terce.html"> <div class="hour-info">
<h3 class="hour-name">Tierce - 3ème Heure</h3>
<div class="hour-time">9h00</div>
</div>
<div class="hour-arrow">→</div>
</a>
<a class="hour-card" href="sext.html"> <div class="hour-info">
<h3 class="hour-name">Sexte - 6ème Heure</h3>
<div class="hour-time">12h00</div>
</div>
<div class="hour-arrow">→</div>
</a>
<a class="hour-card" href="none.html"> <div class="hour-info">
<h3 class="hour-name">None - 9ème Heure</h3>
<div class="hour-time">15h00</div>
</div>
<div class="hour-arrow">→</div>
</a>
<a class="hour-card" href="vespers.html"> <div class="hour-info">
<h3 class="hour-name">Vêpres - 11ème Heure</h3>
<div class="hour-time">18h00</div>
</div>
<div class="hour-arrow">→</div>
</a>
<a class="hour-card" href="compline.html"> <div class="hour-info">
<h3 class="hour-name">Complies - 12ème Heure</h3>
<div class="hour-time">21h00</div>
</div>
<div class="hour-arrow">→</div>
</a>
<a class="hour-card" href="midnight.html"> <div class="hour-info">
<h3 class="hour-name">Minuit</h3>
<div class="hour-time">0h00</div>
</div>
<div class="hour-arrow">→</div>
</a>
<a class="hour-card" href="veil.html"> <div class="hour-info">
<h3 class="hour-name">Prière du Voile</h3>
<div class="hour-time">Prière Spéciale</div>
</div>
<div class="hour-arrow">→</div>
</a>
<a class="hour-card" href="other.html"> <div class="hour-info">
<h3 class="hour-name">Prières diverses</h3>
<div class="hour-time">Diverses Occasions</div>
</div>
<div class="hour-arrow">→</div>
</a>
<a class="hour-card" href="about.html"> <div class="hour-info">
<h3 class="hour-name">À propos de l'Agpia</h3>
<div class="hour-time">Avant-propos</div>
</div>
<div class="hour-arrow">→</div>
</a>
</section>
</main>
<footer>
<p>© <script>document.write(new Date().getFullYear())</script> Agpeya.org · Livre des Heures Copte</p>
</footer>
<script src="../agpeya.js"></script>
<script>
        // Dynamic "Begin Prayer" button based on current time
        function updateBeginPrayerButton() {
            const now = new Date();
            const currentHour = now.getHours();
            const currentMinute = now.getMinutes();
            const currentTimeInMinutes = currentHour * 60 + currentMinute;
            
            // Define prayer hours (in minutes from midnight)
            const hours = [
                { name: 'Prime', file: 'prime.html', time: 6 * 60, label: '1ère Heure' },
                { name: 'Terce', file: 'terce.html', time: 9 * 60, label: '3ème Heure' },
                { name: 'Sext', file: 'sext.html', time: 12 * 60, label: '6ème Heure' },
                { name: 'None', file: 'none.html', time: 15 * 60, label: '9ème Heure' },
                { name: 'Vespers', file: 'vespers.html', time: 18 * 60, label: '11ème Heure' },
                { name: 'Compline', file: 'compline.html', time: 21 * 60, label: '12ème Heure' },
                { name: 'Midnight', file: 'midnight.html', time: 0, label: 'Minuit' }
            ];
            
            // Find the closest hour
            let closestHour = hours[0];
            let minDifference = Math.abs(currentTimeInMinutes - hours[0].time);
            
            for (let i = 1; i < hours.length; i++) {
                let difference = Math.abs(currentTimeInMinutes - hours[i].time);
                
                // Special handling for midnight (0:00) - consider it as 24:00 for late night comparison
                if (hours[i].time === 0 && currentTimeInMinutes > 21 * 60) {
                    difference = Math.abs(currentTimeInMinutes - (24 * 60));
                }
                
                if (difference < minDifference) {
                    minDifference = difference;
                    closestHour = hours[i];
                }
            }
            
            // Format current time for button text with timezone
            const timeString = now.toLocaleTimeString('fr-FR', { 
                hour: 'numeric', 
                minute: '2-digit',
                hour12: false 
            });
            
            // Get timezone abbreviation (EST, PST, CST, etc.)
            const timeWithZone = now.toLocaleTimeString('fr-FR', {
                hour: 'numeric',
                minute: '2-digit',
                hour12: false,
                timeZoneName: 'short'
            });
            // Extract just the timezone part (e.g., "EST", "PST")
            const timezone = timeWithZone.split(' ').pop();
            
            // Update time display and button
            const timeEl = document.getElementById('currentTime');
            timeEl.textContent = `Il est ${timeString} ${timezone}`;
            const btn = document.getElementById('beginPrayerBtn');
            btn.href = closestHour.file;
            btn.textContent = `Prier ${closestHour.label} →`;
        }
        
        // Update button on page load
        updateBeginPrayerButton();
        
        // Update button every minute
        setInterval(updateBeginPrayerButton, 60000);    </script>
</body>
</html>
